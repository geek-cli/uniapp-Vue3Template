import regeneratorRuntime from "regenerator-runtime";function t(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function e(e){for(var r=1;arguments.length>r;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?t(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function n(t,e,r,n,a,o,s){try{var u=t[o](s),i=u.value}catch(t){return void r(t)}u.done?e(i):Promise.resolve(i).then(n,a)}function a(t){return function(){var e=this,r=arguments;return new Promise((function(a,o){var s=t.apply(e,r);function u(t){n(s,a,o,u,i,"next",t)}function i(t){n(s,a,o,u,i,"throw",t)}u(void 0)}))}}function o(t,e){for(var r=0;e.length>r;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);e>r;r++)n[r]=t[r];return n}function i(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return u(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return t.length>n?{done:!1,value:t[n++]}:{done:!0}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,i=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return s=t.done,t},e:function(t){i=!0,o=t},f:function(){try{s||null==r.return||r.return()}finally{if(i)throw o}}}}var c=[],h=[],p=[],l={allowAction:!0,routerParams:null,passedParams:null,current:{},afterNotNext:null,actionInfo:{navigateBack:null,switchTab:null},actionType:null},f=/[^\x20-\x7E]/,m=/[\x2E\u3002\uFF0E\uFF61]/g,v={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},g=Math.floor,y=String.fromCharCode;function d(t){throw new RangeError(v[t])}function b(t,e){return t+22+75*(26>t)-((0!=e)<<5)}function x(t,e,r){var n=0;for(t=r?g(t/700):t>>1,t+=g(t/e);t>455;n+=36)t=g(t/35);return g(n+36*t/(t+38))}function P(t){return function(t,e){var r=t.split("@"),n="";r.length>1&&(n=r[0]+"@",t=r[1]);var a=function(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}((t=t.replace(m,".")).split("."),e).join(".");return n+a}(t,(function(t){return f.test(t)?"xn--"+function(t){var e,r,n,a,o,s,u,i,c,h,p,l,f,m,v,P=[];for(l=(t=function(t){for(var e,r,n=[],a=0,o=t.length;o>a;)55296>(e=t.charCodeAt(a++))||e>56319||a>=o?n.push(e):56320==(64512&(r=t.charCodeAt(a++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),a--);return n}(t)).length,e=128,r=0,o=72,s=0;l>s;++s)128>(p=t[s])&&P.push(y(p));for(n=a=P.length,a&&P.push("-");l>n;){for(u=2147483647,s=0;l>s;++s)(p=t[s])>=e&&u>p&&(u=p);for(u-e>g((2147483647-r)/(f=n+1))&&d("overflow"),r+=(u-e)*f,e=u,s=0;l>s;++s)if(e>(p=t[s])&&++r>2147483647&&d("overflow"),p==e){for(i=r,c=36;(h=c>o?o+26>c?c-o:26:1)<=i;c+=36)P.push(y(b(h+(v=i-h)%(m=36-h),0))),i=g(v/m);P.push(y(b(i,0))),o=x(r,f,n==a),r=0,++n}++r,++e}return P.join("")}(t):t}))}function O(t){return null===t}function w(t){return"string"==typeof t}function j(t){return"object"==r(t)&&null!==t}function $(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var k=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function A(t){switch(r(t)){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}}function C(t,e){if(t.map)return t.map(e);for(var r=[],n=0;t.length>n;n++)r.push(e(t[n],n));return r}var E=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e};function R(t,e,r,n){r=r||"=";var a={};if("string"!=typeof t||0===t.length)return a;var o=/\+/g;t=t.split(e=e||"&");var s=1e3;n&&"number"==typeof n.maxKeys&&(s=n.maxKeys);var u=t.length;s>0&&u>s&&(u=s);for(var i=0;u>i;++i){var c,h,p,l,f=t[i].replace(o,"%20"),m=f.indexOf(r);0>m?(c=f,h=""):(c=f.substr(0,m),h=f.substr(m+1)),p=decodeURIComponent(c),l=decodeURIComponent(h),$(a,p)?k(a[p])?a[p].push(l):a[p]=[a[p],l]:a[p]=l}return a}var q=function(t,e){return K(t,!1,!0).resolve(e)};function I(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var S=/^([a-z0-9.+-]+:)/i,U=/:[0-9]*$/,T=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,N=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),L=["'"].concat(N),_=["%","/","?",";","#"].concat(L),B=["/","?","#"],F=/^[+a-z0-9A-Z_-]{0,63}$/,M=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,V={javascript:!0,"javascript:":!0},D={javascript:!0,"javascript:":!0},z={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function K(t,e,r){if(t&&j(t)&&t instanceof I)return t;var n=new I;return n.parse(t,e,r),n}function Z(t,e,n,a){if(!w(e))throw new TypeError("Parameter 'url' must be a string, not "+r(e));var o=e.indexOf("?"),s=-1!==o&&o<e.indexOf("#")?"?":"#",u=e.split(s);u[0]=u[0].replace(/\\/g,"/");var i=e=u.join(s);if(i=i.trim(),!a&&1===e.split("#").length){var c=T.exec(i);if(c)return t.path=i,t.href=i,t.pathname=c[1],c[2]?(t.search=c[2],t.query=n?R(t.search.substr(1)):t.search.substr(1)):n&&(t.search="",t.query={}),t}var h,p,l,f=S.exec(i);if(f){var m=(f=f[0]).toLowerCase();t.protocol=m,i=i.substr(f.length)}if(a||f||i.match(/^\/\/[^@\/]+@[^@\/]+/)){var v="//"===i.substr(0,2);!v||f&&D[f]||(i=i.substr(2),t.slashes=!0)}if(!D[f]&&(v||f&&!z[f])){var g,y,d=-1;for(h=0;B.length>h;h++)-1===(p=i.indexOf(B[h]))||-1!==d&&p>=d||(d=p);for(-1!==(y=-1===d?i.lastIndexOf("@"):i.lastIndexOf("@",d))&&(g=i.slice(0,y),i=i.slice(y+1),t.auth=decodeURIComponent(g)),d=-1,h=0;_.length>h;h++)-1===(p=i.indexOf(_[h]))||-1!==d&&p>=d||(d=p);-1===d&&(d=i.length),t.host=i.slice(0,d),i=i.slice(d),G(t),t.hostname=t.hostname||"";var b="["===t.hostname[0]&&"]"===t.hostname[t.hostname.length-1];if(!b){var x=t.hostname.split(/\./);for(h=0,l=x.length;l>h;h++){var O=x[h];if(O&&!O.match(F)){for(var j="",$=0,k=O.length;k>$;$++)O.charCodeAt($)>127?j+="x":j+=O[$];if(!j.match(F)){var A=x.slice(0,h),C=x.slice(h+1),E=O.match(M);E&&(A.push(E[1]),C.unshift(E[2])),C.length&&(i="/"+C.join(".")+i),t.hostname=A.join(".");break}}}}t.hostname=t.hostname.length>255?"":t.hostname.toLowerCase(),b||(t.hostname=P(t.hostname)),t.host=(t.hostname||"")+(t.port?":"+t.port:""),t.href+=t.host,b&&(t.hostname=t.hostname.substr(1,t.hostname.length-2),"/"!==i[0]&&(i="/"+i))}if(!V[m])for(h=0,l=L.length;l>h;h++){var q=L[h];if(-1!==i.indexOf(q)){var I=encodeURIComponent(q);I===q&&(I=escape(q)),i=i.split(q).join(I)}}var U=i.indexOf("#");-1!==U&&(t.hash=i.substr(U),i=i.slice(0,U));var N=i.indexOf("?");return-1!==N?(t.search=i.substr(N),t.query=i.substr(N+1),n&&(t.query=R(t.query)),i=i.slice(0,N)):n&&(t.search="",t.query={}),i&&(t.pathname=i),z[m]&&t.hostname&&!t.pathname&&(t.pathname="/"),(t.pathname||t.search)&&(t.path=(t.pathname||"")+(t.search||"")),t.href=H(t),t}function H(t){var e=t.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var n,a,o,s=t.protocol||"",u=t.pathname||"",i=t.hash||"",c=!1,h="";t.host?c=e+t.host:t.hostname&&(c=e+(-1===t.hostname.indexOf(":")?t.hostname:"["+this.hostname+"]"),t.port&&(c+=":"+t.port)),t.query&&j(t.query)&&Object.keys(t.query).length&&(a=a||"&",o=o||"=",null===(n=t.query)&&(n=void 0),h="object"==r(n)?C(E(n),(function(t){var e=encodeURIComponent(A(t))+o;return k(n[t])?C(n[t],(function(t){return e+encodeURIComponent(A(t))})).join(a):e+encodeURIComponent(A(n[t]))})).join(a):"");var p=t.search||h&&"?"+h||"";return s&&":"!==s.substr(-1)&&(s+=":"),t.slashes||(!s||z[s])&&!1!==c?(c="//"+(c||""),u&&"/"!==u.charAt(0)&&(u="/"+u)):c||(c=""),i&&"#"!==i.charAt(0)&&(i="#"+i),p&&"?"!==p.charAt(0)&&(p="?"+p),s+c+(u=u.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(p=p.replace("#","%23"))+i}function G(t){var e=t.host,r=U.exec(e);r&&(":"!==(r=r[0])&&(t.port=r.substr(1)),e=e.substr(0,e.length-r.length)),e&&(t.hostname=e)}I.prototype.parse=function(t,e,r){return Z(this,t,e,r)},I.prototype.format=function(){return H(this)},I.prototype.resolve=function(t){return this.resolveObject(K(t,!1,!0)).format()},I.prototype.resolveObject=function(t){if(w(t)){var e=new I;e.parse(t,!1,!0),t=e}for(var r,n=new I,a=Object.keys(this),o=0;a.length>o;o++){var s=a[o];n[s]=this[s]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),i=0;u.length>i;i++){var c=u[i];"protocol"!==c&&(n[c]=t[c])}return z[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!z[t.protocol]){for(var h=Object.keys(t),p=0;h.length>p;p++){var l=h[p];n[l]=t[l]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||D[t.protocol])n.pathname=t.pathname;else{for(r=(t.pathname||"").split("/");r.length&&!(t.host=r.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==r[0]&&r.unshift(""),2>r.length&&r.unshift(""),n.pathname=r.join("/")}return n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,(n.pathname||n.search)&&(n.path=(n.pathname||"")+(n.search||"")),n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var f,m=n.pathname&&"/"===n.pathname.charAt(0),v=t.host||t.pathname&&"/"===t.pathname.charAt(0),g=v||m||n.host&&t.pathname,y=g,d=n.pathname&&n.pathname.split("/")||[],b=n.protocol&&!z[n.protocol];if(r=t.pathname&&t.pathname.split("/")||[],b&&(n.hostname="",n.port=null,n.host&&(""===d[0]?d[0]=n.host:d.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===r[0]?r[0]=t.host:r.unshift(t.host)),t.host=null),g=g&&(""===r[0]||""===d[0])),v)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,d=r;else if(r.length)d||(d=[]),d.pop(),d=d.concat(r),n.search=t.search,n.query=t.query;else if(null!=t.search)return b&&(n.hostname=n.host=d.shift(),(f=!(!n.host||0>=n.host.indexOf("@"))&&n.host.split("@"))&&(n.auth=f.shift(),n.host=n.hostname=f.shift())),n.search=t.search,n.query=t.query,O(n.pathname)&&O(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!d.length)return n.pathname=null,n.path=n.search?"/"+n.search:null,n.href=n.format(),n;for(var x=d.slice(-1)[0],P=(n.host||t.host||d.length>1)&&("."===x||".."===x)||""===x,j=0,$=d.length;$>=0;$--)"."===(x=d[$])?d.splice($,1):".."===x?(d.splice($,1),j++):j&&(d.splice($,1),j--);if(!g&&!y)for(;j--;j)d.unshift("..");!g||""===d[0]||d[0]&&"/"===d[0].charAt(0)||d.unshift(""),P&&"/"!==d.join("/").substr(-1)&&d.push("");var k=""===d[0]||d[0]&&"/"===d[0].charAt(0);return b&&(n.hostname=n.host=k?"":d.length?d.shift():"",(f=!(!n.host||0>=n.host.indexOf("@"))&&n.host.split("@"))&&(n.auth=f.shift(),n.host=n.hostname=f.shift())),(g=g||n.host&&d.length)&&!k&&d.unshift(""),d.length?n.pathname=d.join("/"):(n.pathname=null,n.path=null),O(n.pathname)&&O(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},I.prototype.parseHost=function(){return G(this)};var J=process.env.VUE_APP_PLATFORM,Q=0;if("h5"===J){var W=history.pushState,X=history.replaceState;history.pushState=function(){Q=1;for(var t=arguments.length,e=Array(t),r=0;t>r;r++)e[r]=arguments[r];return W.apply(this,e)},history.replaceState=function(){Q=1;for(var t=arguments.length,e=Array(t),r=0;t>r;r++)e[r]=arguments[r];return X.apply(this,e)}}function Y(t){"h5"===J&&(Q?Q=0:l.allowAction=!0)}function tt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt();"$routeParams"in t||(t.$routeParams=ht("routeParams")),t.$passedParams=ht("passedParams"),l.VUE3&&["app-plus","app"].indexOf(J)>-1&&(t.$page.$passedParams=t.$passedParams,"$routeParams"in t.$page||(t.$page.$routeParams=t.$routeParams)),t.$vm&&(t.$vm.$passedParams=t.$passedParams,"$routeParams"in t.$vm||(t.$vm.$routeParams=t.$routeParams))}function et(){var t=void 0;Object.defineProperty(bt(),"$vm",{get:function(){return t},set:function(e){t=e,tt()}})}function rt(t){pt(t,"passedParams"),pt(t,"routeParams")}function nt(t){return at.apply(this,arguments)}function at(){return at=a(regeneratorRuntime.mark((function t(e){var r,n,a,o,s,u,i,c,h,p,f,m,v=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=function(){l.passedParams=s,l.routeParams=u},r=v.length>1&&void 0!==v[1]?v[1]:{},n=v.length>2?v[2]:void 0,a=bt(),o=!1,s=l.passedParams,u=l.routeParams,rt(r),"navigateBack"!==n){t.next=30;break}if(h=getCurrentPages().length,(i=1===h?a:getCurrentPages()[h-2]).$vm&&i.$vm._$weex&&(o=!0,tt(i)),p=e.call(uni,r),!(o&&p instanceof Promise)){t.next=28;break}return l.allowAction=!0,t.prev=15,t.next=18,p;case 18:if(t.t0=t.sent.length,1!==t.t0){t.next=21;break}c();case 21:t.next=26;break;case 23:t.prev=23,t.t1=t.catch(15),c();case 26:t.next=29;break;case 28:return t.abrupt("return",c);case 29:return t.abrupt("return",p);case 30:return f=e.call(uni,r),m=bt(),["app-plus","app"].indexOf(J)>-1&&(m===a||m.$vm?tt():et()),t.abrupt("return",f);case 34:case"end":return t.stop()}}),t,null,[[15,23]])}))),at.apply(this,arguments)}var ot=!1;function st(t,e){var r=t.indexOf(e);t.splice(r,1)}function ut(t,e,r){return it.apply(this,arguments)}function it(){return(it=a(regeneratorRuntime.mark((function t(e,r,n){var a,o,s,u,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=function(){l.afterNotNext=null,a=!1},a=!0,s=i(e),t.prev=3,s.s();case 5:if((u=s.n()).done){t.next=14;break}return c=u.value,t.next=9,c(r,n,o);case 9:if(!a){t.next=11;break}return t.abrupt("return",!1);case 11:a=!0;case 12:t.next=5;break;case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(3),s.e(t.t0);case 19:return t.prev=19,s.f(),t.finish(19);case 22:return t.abrupt("return",!0);case 23:case"end":return t.stop()}}),t,null,[[3,16,19,22]])})))).apply(this,arguments)}function ct(t,e,r){t.forEach((function(t){t(e,r)}))}function ht(t){var e=l[t];return l[t]=null,e}function pt(t,n){return"object"===r(t[n])&&(l[n]=e({},t[n])),t}function lt(){var t=l.afterNotNext;l.afterNotNext=null,"function"==typeof t&&t()}function ft(t,e,r,n){return mt.apply(this,arguments)}function mt(){return(mt=a(regeneratorRuntime.mark((function t(e,r,n,a){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e;case 3:if(1!==(o=t.sent).length){t.next=9;break}l.allowAction=!0,ct(p,r,n),t.next=13;break;case 9:if("reLaunch"!==a||1!==getCurrentPages().length||dt()!==r.url||"h5"!==J){t.next=12;break}return Pt(),t.abrupt("return",o);case 12:("navigateBack"===a&&1===getCurrentPages().length||["app-plus","app"].indexOf(J)>-1&&!bt().$vm)&&(Pt(),["app-plus","app"].indexOf(J)>-1&&tt(),jt.called||ct(h,r,n),l.current=xt());case 13:return t.abrupt("return",o);case 16:return t.prev=16,t.t0=t.catch(0),l.allowAction=!0,ct(p,r,n),t.abrupt("return",Error(t.t0));case 21:case"end":return t.stop()}}),t,null,[[0,16]])})))).apply(this,arguments)}function vt(t){var r=e({},t);return Object.keys(r).forEach((function(t){r[t]=decodeURIComponent(r[t])})),r}function gt(t){var e=[];return Object.keys(t).forEach((function(r){e.push("".concat(r,"=").concat(encodeURIComponent(t[r])))})),e.join("&")}function yt(t){var e;if(t){if("h5"===J){if(l.VUE3){var r=new URL(t.$page.fullPath,location.origin).searchParams,n={};return r.forEach((function(t,e){n[e]=t})),n}return t.$mp.query}return t.options||(null===(e=t.$page)||void 0===e?void 0:e.options)||{}}}function dt(){var t=getCurrentPages();return t[t.length-1].route}function bt(){var t=getCurrentPages();return t[t.length-1]}function xt(){var t=bt(),e=yt(t);return"h5"!==J&&(e=vt(e)),{url:dt(),routeParams:t.$routeParams,passedParams:t.$passedParams,query:e,search:gt(e)}}function Pt(t){ot&&(l.allowAction=!0,t&&t()),ot=!1}function Ot(t){var e=uni[t];uni[t]=function(r){return function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;try{dt()}catch(e){return t.call(uni,r)}var o=xt(),s=r.fail,u=r.success,i=r.complete;if(!l.allowAction){var f="动作被拦截，因为已经有一个正在执行的路由动作";return s||u||i?r.fail&&r.fail({errMsg:f}):[{errMsg:f}]}l.allowAction=!1,ot=!1;var m,v=dt(),g={},y="";if("navigateBack"===n){var d=r.delta,b=void 0===d?1:d,x=getCurrentPages().length-1-b;0>x&&(x=0),l.actionInfo.navigateBack=x,m=getCurrentPages()[x].route,y=gt(g=yt(getCurrentPages()[x])),"h5"!==J&&(g=vt(g))}else{var P=(m=q(v,r.url||"").replace(/^\/([^\/])/,"$1")).match(/([^?]+)\?([\s\S]*)/);m=P&&P[1]||m,P&&P[2]&&(y=P[2],P[2].split("&").forEach((function(t){if(t){var e=t.match(/^([^=]+)=([\s\S]*)$/);e&&e[2]?g[e[1]]=e[2]:g[t]=""}}))),g=vt(g)}"switchTab"===n&&(l.actionInfo.switchTab=m),l.actionType=n;var O,w={url:m,routeParams:r.routeParams,passedParams:r.passedParams,query:g,jumpType:n,search:y};return s||u||i?(r.fail=function(){var t;O instanceof Function&&O(),l.allowAction=!0;for(var r=arguments.length,n=Array(r),a=0;r>a;a++)n[a]=arguments[a];if(null!=n&&null!==(t=n[0])&&void 0!==t&&t.innerError||ct(p,w,["app-plus","app"].indexOf(J)>-1?o:l.current),s)return s.apply(e,n)},"reLaunch"===n&&1===getCurrentPages().length&&dt()===w.url&&"h5"===J&&(r.success=function(){if(Pt(),u){for(var t=arguments.length,r=Array(t),n=0;t>n;n++)r[n]=arguments[n];return u.apply(e,r)}}),("navigateBack"===n&&1===getCurrentPages().length||["app-plus","app"].indexOf(J)>-1)&&(r.success=function(){if(Pt(),["app-plus","app"].indexOf(J)>-1&&tt(),!jt.called&&ct(h,w,["app-plus","app"].indexOf(J)>-1?o:l.current),l.current=xt(),u){for(var t=arguments.length,r=Array(t),n=0;t>n;n++)r[n]=arguments[n];return u.apply(e,r)}}),void a(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ut(c,w,["app-plus","app"].indexOf(J)>-1?o:l.current);case 2:if(e.sent){e.next=6;break}return r.fail({errMsg:"beforeEach中没有使用next",innerError:1}),lt(),e.abrupt("return");case 6:ot=!0,"h5"===J&&(Q=0),O=nt(t,r,n),Y();case 10:case"end":return e.stop()}}),e)})))()):a(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ut(c,w,["app-plus","app"].indexOf(J)>-1?o:l.current);case 2:if(e.sent){e.next=6;break}return l.allowAction=!0,lt(),e.abrupt("return",[{errMsg:"beforeEach中没有使用next",innerError:1}]);case 6:return ot=!0,"h5"===J&&(Q=0),a=nt(t,r,n),Y(),e.abrupt("return",ft(a,w,["app-plus","app"].indexOf(J)>-1?o:l.current,n));case 11:case"end":return e.stop()}}),e)})))()}(e,r,t)}}function wt(t){try{bt(),t&&t()}catch(e){setTimeout((function(){wt(t)}),13)}}function jt(){var t=this;if(!l.VUE3||"page"===this.$mpType){var e=function(){Pt((function(){bt().$passedParams=t.$passedParams=ht("passedParams")}));var e=xt();ct(h,e,l.current),l.current=e};if(-1<["app-plus","app"].indexOf(J))wt(e);else{try{dt()}catch(t){return}this.globalData||e()}}}var $t=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r,n;return e=t,(r=[{key:"beforeEach",value:function(t){return c.push(t),function(){st(c,t)}}},{key:"afterEach",value:function(t){return h.push(t),function(){st(h,t)}}},{key:"onError",value:function(t){return p.push(t),function(){st(p,t)}}},{key:"afterNotNext",value:function(t){return l.afterNotNext=t,this}},{key:"install",value:function(t,e){return l.VUE3=3===parseInt(t.version),function(t,e){t.mixin({onLoad:function(){["app-plus","app"].indexOf(J)>-1&&!bt().$vm||l.VUE3&&"page"!==this.$mpType||(["app-plus","app"].indexOf(J)>-1&&(this.__onLoadCalled=!0),bt().$routeParams=this.$routeParams=ht("routeParams"),jt.call(this),jt.called=!0)},onShow:function(){["app-plus","app"].indexOf(J)>-1&&!this.__onLoadCalled||(jt.called?jt.called=null:(jt.call(this),["app-plus","app"].indexOf(J)>-1&&(jt.called=!0,setTimeout((function(){jt.called=null})))))}}),Ot("navigateTo"),Ot("redirectTo"),Ot("reLaunch"),Ot("switchTab"),Ot("navigateBack")}(t),this}}])&&o(e.prototype,r),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}()),kt=$t.beforeEach,At=$t.afterEach,Ct=$t.onError,Et=$t.afterNotNext;export default $t;export{At as afterEach,Et as afterNotNext,kt as beforeEach,Ct as onError};
